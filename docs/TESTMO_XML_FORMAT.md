# Testmo XML Format

**Study notes from Testmo XML Format documentation**

**Source**: [Testmo XML Format](https://support.testmo.com/hc/en-us/articles/38036427752333-XML-Format)

---

## üìã Overview

Testmo supports **JUnit-style XML files** for submitting test automation results. This format is widely supported by test automation tools and has become the de facto standard for test result reporting.

---

## üéØ Key Concepts

### JUnit-Style XML
- **Widely Supported**: Compatible with any test automation tool
- **Standard Format**: De facto standard for test result reporting
- **Tool Agnostic**: Works with any tool, language, and platform
- **Easy Integration**: No custom programming needed

### Extensions Supported
- **Test Field Properties**: Include test field properties in XML
- **Attachments**: Support for test attachments
- **Properties from Output**: Detect properties from standard output
- **Various Field Types**: Support for different field types and conventions

---

## üìä XML Structure

### Basic JUnit XML Format

```xml
<?xml version="1.0" encoding="UTF-8"?>
<testsuites>
  <testsuite name="Test Suite" tests="2" failures="0" errors="0" skipped="0" time="1.5">
    <testcase name="Test Case 1" classname="TestClass" time="0.5">
      <!-- Test case content -->
    </testcase>
    <testcase name="Test Case 2" classname="TestClass" time="1.0">
      <!-- Test case content -->
    </testcase>
  </testsuite>
</testsuites>
```

### Enhanced with Properties

```xml
<?xml version="1.0" encoding="UTF-8"?>
<testsuites>
  <testsuite name="Test Suite" tests="2" failures="0" errors="0" skipped="0" time="1.5">
    <properties>
      <property name="environment" value="production"/>
      <property name="browser" value="chrome"/>
      <property name="version" value="1.0.0"/>
    </properties>
    <testcase name="Test Case 1" classname="TestClass" time="0.5">
      <properties>
        <property name="test_url" value="https://example.com"/>
        <property name="test_type" value="e2e"/>
      </properties>
      <!-- Test case content -->
    </testcase>
  </testsuite>
</testsuites>
```

### With Output and Failures

```xml
<?xml version="1.0" encoding="UTF-8"?>
<testsuites>
  <testsuite name="Test Suite" tests="2" failures="1" errors="0" skipped="0" time="1.5">
    <testcase name="Test Case 1" classname="TestClass" time="0.5">
      <system-out>
        <![CDATA[
        Test output here
        Additional information
        ]]>
      </system-out>
    </testcase>
    <testcase name="Test Case 2" classname="TestClass" time="1.0">
      <failure message="Test failed">
        <![CDATA[
        Error details here
        Stack trace
        ]]>
      </failure>
      <system-out>
        <![CDATA[
        Test output
        ]]>
      </system-out>
    </testcase>
  </testsuite>
</testsuites>
```

---

## üîß Supported Elements

### Testsuite Attributes
- `name`: Test suite name
- `tests`: Total number of tests
- `failures`: Number of failed tests
- `errors`: Number of tests with errors
- `skipped`: Number of skipped tests
- `time`: Total execution time (seconds)
- `timestamp`: Test suite execution timestamp
- `hostname`: Hostname where tests ran

### Testcase Attributes
- `name`: Test case name
- `classname`: Test class name
- `time`: Test execution time (seconds)
- `status`: Test status (passed, failed, skipped)

### Properties
- **Testsuite Properties**: Global properties for the test suite
- **Testcase Properties**: Properties specific to each test case
- **Property Format**: `<property name="key" value="value"/>`

### Output Elements
- `<system-out>`: Standard output (test logs, console output)
- `<system-err>`: Standard error (error logs)
- `<failure>`: Failure information
- `<error>`: Error information
- `<skipped>`: Skip information

---

## üìù Test Field Properties

### Supported Field Types
Testmo supports various field types for properties:
- **Text**: String values
- **Number**: Numeric values
- **Date**: Date/time values
- **Boolean**: True/false values
- **URL**: URL values
- **Custom**: Custom field types

### Property Naming
- Use descriptive names
- Follow naming conventions
- Include relevant metadata
- Support filtering and searching

---

## üéØ Best Practices

### 1. Include Properties
- Add environment information
- Include test configuration
- Add execution context
- Include metadata

### 2. Use Output Elements
- Include test logs in `<system-out>`
- Add error details in `<system-err>`
- Provide failure details in `<failure>`
- Include skip reasons in `<skipped>`

### 3. Structure Tests
- Organize tests in logical suites
- Use descriptive test names
- Include class names
- Add execution times

### 4. Error Handling
- Provide detailed failure messages
- Include stack traces
- Add error context
- Include debugging information

---

## üîÑ Integration with Our Project

### Current Implementation
We're already using JUnit XML format:
- Generated by Playwright
- Enhanced with properties
- Includes test metadata
- Submitted to Testmo

### Enhancements We've Added
1. **Properties Section**: Environment info, Git info, execution context
2. **Test Metadata**: URL, test type, category per test case
3. **Enhanced Output**: Structured test logs and results
4. **Failure Details**: Enhanced failure messages with context

### Current XML Structure
```xml
<testsuites>
  <testsuite name="Website Monitoring" tests="1" failures="0" skipped="0" time="6.4">
    <properties>
      <property name="node_version" value="18.20.8"/>
      <property name="platform" value="darwin"/>
      <property name="architecture" value="arm64"/>
      <property name="playwright_version" value="1.57.0"/>
      <property name="browser" value="chromium"/>
      <property name="environment" value="development"/>
      <property name="execution_time" value="2025-11-28T06:06:56Z"/>
      <property name="commit" value="7bc29bb"/>
      <property name="branch" value="main"/>
      <property name="author" value="Sudarshan Chaudhari"/>
    </properties>
    <testcase name="Website Monitoring ‚Ä∫ Production Sites ‚Ä∫ Monitor: ScreenCloud Start" 
              classname="website-monitor.spec.js" time="6.4">
      <properties>
        <property name="test_url" value="https://start.screencloud.com/"/>
        <property name="test_type" value="website_monitoring"/>
        <property name="test_category" value="uptime"/>
      </properties>
      <system-out>
        <![CDATA[
        Test output and logs here
        ]]>
      </system-out>
    </testcase>
  </testsuite>
</testsuites>
```

---

## üìö Related Resources

### Testmo Documentation
- **JUnit XML Format & Example**: [Link](https://support.testmo.com/hc/en-us/articles/37893689383309-JUnit)
- **Test Fields & Types**: [Link](https://support.testmo.com/hc/en-us/articles/38036427752333-XML-Format#test-fields)
- **HTML Reference**: [Link](https://support.testmo.com/hc/en-us/articles/38036427752333-XML-Format#html-reference)
- **Contributing & Open Source**: [Link](https://support.testmo.com/hc/en-us/articles/38036427752333-XML-Format#contributing)

### Testmo CLI
- **CLI Guide**: [Link](https://support.testmo.com/hc/en-us/articles/37902053426445-Testmo-CLI-Reference)
- **Submission**: Use `testmo automation:run:submit` command

---

## üí° Recommendations

### For Our Project

#### 1. **Continue Using Properties**
‚úÖ **Already Implemented**
- Environment information
- Git information
- Execution context
- Test metadata

#### 2. **Enhance Output**
**Potential Improvements**:
- Add more detailed test logs
- Include performance metrics
- Add error context
- Include debugging information

#### 3. **Use Attachments**
**Future Enhancement**:
- Link screenshots as attachments
- Include test artifacts
- Add log files
- Include performance data

#### 4. **Structure Better**
**Current**: Good structure with suites and test cases
**Potential**: Add more granular test organization

---

## üéØ XML Format Examples

### Example 1: Using Properties
```xml
<testsuite name="Website Monitoring">
  <properties>
    <property name="environment" value="production"/>
    <property name="node_version" value="18.20.8"/>
  </properties>
  <testcase name="Monitor: Website">
    <properties>
      <property name="url" value="https://example.com"/>
      <property name="threshold" value="5000"/>
    </properties>
  </testcase>
</testsuite>
```

### Example 2: Using Output
```xml
<testcase name="Monitor: Website">
  <system-out>
    <![CDATA[
    Checking DNS resolution...
    DNS resolved in 48ms
    Checking SSL certificate...
    SSL valid until 2026-12-20
    Checking website...
    Response received: 200 OK
    Load time: 4848ms
    ]]>
  </system-out>
</testcase>
```

### Example 3: With Failures
```xml
<testcase name="Monitor: Website">
  <failure message="Website DOWN: Connection timeout">
    <![CDATA[
    Error Category: NETWORK_ERROR
    Status Code: 0
    Load Time: 30000ms
    DNS Resolution: Failed
    Timestamp: 2025-11-28T06:06:56Z
    ]]>
  </failure>
  <system-out>
    <![CDATA[
    Test execution logs...
    ]]>
  </system-out>
</testcase>
```

---

## üîç Key Takeaways

1. **Standard Format**: JUnit-style XML is the standard for test reporting
2. **Widely Supported**: Works with any test automation tool
3. **Extensible**: Supports properties, attachments, and custom fields
4. **Flexible**: Can include rich metadata and context
5. **Easy Integration**: No custom programming needed

---

## ‚úÖ Our Implementation Status

### ‚úÖ Implemented
- JUnit XML generation via Playwright
- Properties section with environment info
- Git information in properties
- Test metadata per test case
- Enhanced output with test logs
- Structured failure messages

### üîÑ Potential Enhancements
- Add attachments (screenshots, logs)
- Include more detailed metrics
- Add custom field types
- Enhance output formatting
- Include performance data

---

**Last Updated**: November 28, 2024
**Source**: [Testmo XML Format](https://support.testmo.com/hc/en-us/articles/38036427752333-XML-Format)

